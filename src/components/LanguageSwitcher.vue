<template>
  <div class="language-switcher">
    <select v-model="currentLocale">
      <option
        v-for="locale in locales"
        :key="locale.code"
        :value="locale.code"
      >
        {{ locale.name }}
      </option>
    </select>
  </div>
</template>

<script setup>
import { computed } from 'vue';
import { useI18n } from 'vue-i18n';

const { locale } = useI18n();

const locales = [
  { code: 'ru', name: 'ðŸ‡·ðŸ‡º  -  Ð ÑƒÑÑÐºÐ¸Ð¹' },
  { code: 'en', name: 'ðŸ‡ºðŸ‡¸  -  English' },
  { code: 'zh', name: 'ðŸ‡¨ðŸ‡³  -  ç®€ä½“ä¸­æ–‡' },
  { code: 'zh_tw', name: 'ðŸ‡¹ðŸ‡¼  -  ç¹é«”ä¸­æ–‡' },
  { code: 'es', name: 'ðŸ‡ªðŸ‡¸  -  EspaÃ±ol' },
  { code: 'fr', name: 'ðŸ‡«ðŸ‡·  -  FranÃ§ais' },
  { code: 'de', name: 'ðŸ‡©ðŸ‡ª  -  Deutsch' },
  { code: 'ja', name: 'ðŸ‡¯ðŸ‡µ  -  æ—¥æœ¬èªž' },
  { code: 'ko', name: 'ðŸ‡°ðŸ‡·  -  í•œêµ­ì–´' },
  { code: 'pt_br', name: 'ðŸ‡§ðŸ‡·  -  PortuguÃªs (Brasil)' },
  { code: 'it', name: 'ðŸ‡®ðŸ‡¹  -  Italiano' },
  { code: 'pl', name: 'ðŸ‡µðŸ‡±  -  Polski' },
]
const currentLocale = computed({
  get: () => locale.value,
  set: (value) => {
    locale.value = value;
    localStorage.setItem('locale', value);
  },
});

const savedLocale = localStorage.getItem('locale');
if (savedLocale) {
  currentLocale.value = savedLocale;
}
</script>

<style scoped>
.language-switcher select {
  width: 100%;
  padding: 8px 12px;
  border-radius: 4px;
  border: 1px solid #3d3d5c;
  background: #2d2d42;
  color: #e0e0e0;
}
</style>